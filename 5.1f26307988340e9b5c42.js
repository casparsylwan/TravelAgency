(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{blj4:function(t,n,e){"use strict";e.r(n),e.d(n,"MypagesModule",function(){return B});var r=e("ofXK"),o=e("3Pt+"),c=e("tyNb"),i=e("fXoL"),b=e("Zdek"),a=e("h5Rr");function s(t,n){if(1&t&&(i.Mb(0,"tr"),i.Kb(1),i.Mb(2,"td"),i.jc(3),i.Lb(),i.Mb(4,"td"),i.jc(5),i.Lb(),i.Mb(6,"td"),i.jc(7),i.Lb(),i.Mb(8,"td"),i.jc(9),i.Lb(),i.Mb(10,"td"),i.jc(11),i.Lb(),i.Mb(12,"td"),i.jc(13),i.Lb(),i.Mb(14,"td"),i.jc(15,"Open"),i.Lb(),i.Jb(),i.Lb()),2&t){const t=n.$implicit;i.wb(3),i.kc(t.firstName),i.wb(2),i.kc(t.lastName),i.wb(2),i.lc(" ",t.email,""),i.wb(2),i.lc(" ",t.password,""),i.wb(2),i.lc(" ",t.roles,""),i.wb(2),i.kc(t.orders.length)}}let l=(()=>{class t{constructor(t,n){this.loginAuth=t,this.state=n,this.customer$=null,this.customers=[],this.getAllBoolean=!1}ngOnInit(){this.state.customer$.subscribe(t=>{this.customer$=t,this.getAllBoolean||this.getAllCustomers()})}getAllCustomers(){null!=this.customer$&&this.customer$.jwt.length>5&&(this.loginAuth.httpGetAllCustomers(this.customer$.jwt).subscribe(t=>{this.customers=t},t=>{console.log(t.status)}),this.getAllBoolean=!0)}}return t.\u0275fac=function(n){return new(n||t)(i.Hb(b.a),i.Hb(a.a))},t.\u0275cmp=i.Bb({type:t,selectors:[["app-customers-admin"]],decls:19,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(i.Mb(0,"table"),i.Mb(1,"thead"),i.Mb(2,"tr"),i.Mb(3,"th"),i.jc(4,"First name"),i.Lb(),i.Mb(5,"th"),i.jc(6,"Surname"),i.Lb(),i.Mb(7,"th"),i.jc(8,"E-mail"),i.Lb(),i.Mb(9,"th"),i.jc(10,"Password"),i.Lb(),i.Mb(11,"th"),i.jc(12,"Roles"),i.Lb(),i.Mb(13,"th"),i.jc(14,"Number of orders"),i.Lb(),i.Mb(15,"th"),i.jc(16,"Show"),i.Lb(),i.Lb(),i.Lb(),i.Mb(17,"tbody"),i.ic(18,s,16,6,"tr",0),i.Lb(),i.Lb()),2&t&&(i.wb(18),i.ac("ngForOf",n.customers))},directives:[r.j],styles:["table[_ngcontent-%COMP%]{background:#fff;border-radius:6px;width:100%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem 1rem 1rem}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:3rem;background:#00e;color:#fff;font-size:1.2rem;font-weight:lighter;text-align:center}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-left:1px solid #000}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   th[_ngcontent-%COMP%]:nth-child(3n){border-right:1px solid #000}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;border-bottom:1px solid #e3f1d5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#bbb}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border:0}"]}),t})();function u(t,n){1&t&&(i.Mb(0,"th"),i.jc(1,"Paid"),i.Lb())}function d(t,n){1&t&&(i.Mb(0,"th"),i.jc(1,"Remove"),i.Lb())}const g=function(t,n){return{not:t,true:n}};function M(t,n){if(1&t&&(i.Kb(0),i.Mb(1,"td",4),i.jc(2),i.Lb(),i.Jb()),2&t){const t=i.Xb(2).$implicit,n=i.Xb(2);i.wb(1),i.ac("ngClass",i.cc(2,g,!t.paid,t.paid)),i.wb(1),i.lc(" ",n.isPaid(t),"")}}function h(t,n){1&t&&i.Ib(0,"td",5)}function m(t,n){if(1&t&&(i.Kb(0),i.Mb(1,"td"),i.jc(2),i.Lb(),i.Mb(3,"td"),i.jc(4),i.Lb(),i.Mb(5,"td"),i.jc(6),i.Lb(),i.Mb(7,"td"),i.jc(8),i.Lb(),i.Mb(9,"td"),i.jc(10),i.Lb(),i.Mb(11,"td"),i.jc(12),i.Lb(),i.Mb(13,"td"),i.jc(14),i.Lb(),i.Mb(15,"td"),i.jc(16),i.Lb(),i.ic(17,M,3,5,"ng-container",1),i.ic(18,h,1,0,"td",3),i.Jb()),2&t){const t=i.Xb().$implicit,n=i.Xb(2);i.wb(2),i.kc(t.fromAirport.name),i.wb(2),i.kc(t.fromAirport.country),i.wb(2),i.lc(" ",t.fromAirport.city,""),i.wb(2),i.kc(t.toAirport.name),i.wb(2),i.kc(t.toAirport.country),i.wb(2),i.lc(" ",t.toAirport.city,""),i.wb(2),i.lc(" ",n.createDate(t.depatureDate),""),i.wb(2),i.lc("",t.price," kr "),i.wb(1),i.ac("ngIf",null!=n.customer$&&"CUSTOMER"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"ADMIN"==n.customer$.roles)}}function f(t,n){if(1&t&&(i.Mb(0,"tr"),i.ic(1,m,19,10,"ng-container",1),i.Lb()),2&t){const t=n.$implicit;i.wb(1),i.ac("ngIf",null!=t.fromAirport&&null!=t.toAirport)}}function p(t,n){if(1&t&&(i.Kb(0),i.ic(1,f,2,1,"tr",2),i.Jb()),2&t){const t=i.Xb();i.wb(1),i.ac("ngForOf",t.customer$.orders)}}let C=(()=>{class t{constructor(t){this.state=t,this.customer$=null}ngOnInit(){this.state.customer$.subscribe(t=>this.customer$=t)}createDate(t){if(null==t)return null;let n=new Date(t);return n.getFullYear()+"-"+this.pad(n.getMonth()+1,2)+"-"+this.pad(n.getDate(),2)+" "+n.getHours()+":"+this.pad(n.getMinutes(),2)}pad(t,n){let e=Math.floor(n),r=""+t,o=r.length;return o>=e?r:"0".repeat(e-o)+r}isPaid(t){return t.paid?"DONE":t.paid?"":"Pending"}}return t.\u0275fac=function(n){return new(n||t)(i.Hb(a.a))},t.\u0275cmp=i.Bb({type:t,selectors:[["app-my-orders"]],decls:30,vars:3,consts:[["colspan","3"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","remove",4,"ngIf"],[1,"paid",3,"ngClass"],[1,"remove"]],template:function(t,n){1&t&&(i.Mb(0,"table"),i.Mb(1,"thead"),i.Mb(2,"tr"),i.Mb(3,"th",0),i.jc(4,"Travling from"),i.Lb(),i.Mb(5,"th",0),i.jc(6,"Travling to"),i.Lb(),i.Mb(7,"th",0),i.jc(8,"Your price"),i.Lb(),i.Lb(),i.Mb(9,"tr"),i.Mb(10,"th"),i.jc(11,"Airport"),i.Lb(),i.Mb(12,"th"),i.jc(13,"Country"),i.Lb(),i.Mb(14,"th"),i.jc(15,"City"),i.Lb(),i.Mb(16,"th"),i.jc(17,"Airport"),i.Lb(),i.Mb(18,"th"),i.jc(19,"Country"),i.Lb(),i.Mb(20,"th"),i.jc(21,"City"),i.Lb(),i.Mb(22,"th"),i.jc(23,"Date"),i.Lb(),i.Mb(24,"th"),i.jc(25,"price"),i.Lb(),i.ic(26,u,2,0,"th",1),i.ic(27,d,2,0,"th",1),i.Lb(),i.Lb(),i.Mb(28,"tbody"),i.ic(29,p,2,1,"ng-container",1),i.Lb(),i.Lb()),2&t&&(i.wb(26),i.ac("ngIf",null!=n.customer$&&"CUSTOMER"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"ADMIN"==n.customer$.roles),i.wb(2),i.ac("ngIf",null!=n.customer$))},directives:[r.k,r.j,r.i],styles:["table[_ngcontent-%COMP%]{background:#fff;border-radius:6px;width:100%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem 1rem 1rem}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:3rem;background:#00e;color:#fff;font-size:1.2rem;font-weight:lighter;text-align:center}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-left:1px solid #000}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   th[_ngcontent-%COMP%]:nth-child(3), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   th[_ngcontent-%COMP%]:nth-child(6){border-right:1px solid #000}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;border-bottom:1px solid #e3f1d5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#bbb}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border:0}.remove[_ngcontent-%COMP%]{background-image:url(trash.7be8565e0d482c6f2807.svg);background-repeat:no-repeat;background-position:50%;background-size:1.5rem;background-color:#f23}.paid[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.paid.not[_ngcontent-%COMP%]{background-color:red}.paid.true[_ngcontent-%COMP%]{background-color:green}"]}),t})();var O=e("7HOx"),P=e("hj3O");function _(t,n){1&t&&(i.Mb(0,"th"),i.jc(1,"Buy"),i.Lb())}function L(t,n){1&t&&(i.Mb(0,"th"),i.jc(1,"Remove"),i.Lb())}function v(t,n){if(1&t){const t=i.Nb();i.Mb(0,"td",5),i.Tb("click",function(){i.fc(t);const n=i.Xb(2).$implicit;return i.Xb().buyTravel(n)}),i.jc(1,"Add"),i.Lb()}}function w(t,n){if(1&t){const t=i.Nb();i.Mb(0,"td",6),i.Tb("click",function(){i.fc(t);const n=i.Xb(2).$implicit;return i.Xb().delteOffer(n)}),i.Lb()}}function j(t,n){if(1&t&&(i.Kb(0),i.Mb(1,"td"),i.jc(2),i.Lb(),i.Mb(3,"td"),i.jc(4),i.Lb(),i.Mb(5,"td"),i.jc(6),i.Lb(),i.Mb(7,"td"),i.jc(8),i.Lb(),i.Mb(9,"td"),i.jc(10),i.Lb(),i.Mb(11,"td"),i.jc(12),i.Lb(),i.Mb(13,"td"),i.jc(14),i.Lb(),i.Mb(15,"td"),i.jc(16),i.Lb(),i.ic(17,v,2,0,"td",3),i.ic(18,w,1,0,"td",4),i.Jb()),2&t){const t=i.Xb().$implicit,n=i.Xb();i.wb(2),i.kc(t.fromAirport.name),i.wb(2),i.kc(t.fromAirport.country),i.wb(2),i.lc(" ",t.fromAirport.city,""),i.wb(2),i.kc(t.toAirport.name),i.wb(2),i.kc(t.toAirport.country),i.wb(2),i.lc(" ",t.toAirport.city,""),i.wb(2),i.lc(" ",n.createDate(t.depatureDate),""),i.wb(2),i.lc("",t.price," kr "),i.wb(1),i.ac("ngIf",null!=n.customer$&&"CUSTOMER"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"ADMIN"==n.customer$.roles)}}function y(t,n){if(1&t&&(i.Mb(0,"tr"),i.ic(1,j,19,10,"ng-container",1),i.Lb()),2&t){const t=n.$implicit;i.wb(1),i.ac("ngIf",null!=t.fromAirport&&null!=t.toAirport)}}let $=(()=>{class t{constructor(t,n,e,r){this.travelService=t,this.loginCustomerService=n,this.state=e,this.router=r,this.customer$=null,this.offers=[],this.offersCall=!1}ngOnInit(){this.state.customer$.subscribe(t=>{this.customer$=t,!this.offersCall&&this.customer$.jwt.length>6&&(this.offersCall=!0,this.getOffers(),console.log("SENT: ",t))})}getOffers(){var t,n;console.log("get offers ",null===(t=this.customer$)||void 0===t?void 0:t.jwt),(null===(n=this.customer$)||void 0===n?void 0:n.jwt)&&this.travelService.getAllTravelOffers(this.customer$.jwt).subscribe(t=>{console.log(t),this.offers=[...this.offers,...t],console.log(this.offers)},t=>{console.log(t),this.logout()})}logout(){const t=new O.a("");this.state.setCustomer(t),sessionStorage.removeItem("travelux"),this.router.navigate(["/login"])}createDate(t){if(null==t)return null;let n=new Date(t);return n.getFullYear()+"-"+this.pad(n.getMonth()+1,2)+"-"+this.pad(n.getDate(),2)+" "+n.getHours()+":"+this.pad(n.getMinutes(),2)}pad(t,n){let e=Math.floor(n),r=""+t,o=r.length;return o>=e?r:"0".repeat(e-o)+r}delteOffer(t){var n;(null===(n=this.customer$)||void 0===n?void 0:n.jwt)&&null!=(null==t?void 0:t.id)&&this.travelService.deleteTravelOffer(t,this.customer$.jwt,t.id).subscribe(()=>{this.offers=[],this.getOffers()},t=>{console.log(t)})}buyTravel(t){var n,e,r,o;null==(null===(n=this.customer$)||void 0===n?void 0:n.orders)&&null!=this.customer$&&(this.customer$.orders=[]),null!=(null===(e=this.customer$)||void 0===e?void 0:e.jwt)&&(null===(r=this.customer$)||void 0===r||r.orders.push(t),this.loginCustomerService.updateCustomer(this.customer$,null===(o=this.customer$)||void 0===o?void 0:o.jwt).subscribe(t=>{console.log("CUSTOMER$",t)}))}}return t.\u0275fac=function(n){return new(n||t)(i.Hb(P.a),i.Hb(b.a),i.Hb(a.a),i.Hb(c.b))},t.\u0275cmp=i.Bb({type:t,selectors:[["app-mypage-offer"]],decls:30,vars:3,consts:[["colspan","3"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["class","remove",3,"click",4,"ngIf"],[3,"click"],[1,"remove",3,"click"]],template:function(t,n){1&t&&(i.Mb(0,"table"),i.Mb(1,"thead"),i.Mb(2,"tr"),i.Mb(3,"th",0),i.jc(4,"Travling from"),i.Lb(),i.Mb(5,"th",0),i.jc(6,"Travling to"),i.Lb(),i.Mb(7,"th",0),i.jc(8,"Your price"),i.Lb(),i.Lb(),i.Mb(9,"tr"),i.Mb(10,"th"),i.jc(11,"Airport"),i.Lb(),i.Mb(12,"th"),i.jc(13,"Country"),i.Lb(),i.Mb(14,"th"),i.jc(15,"City"),i.Lb(),i.Mb(16,"th"),i.jc(17,"Airport"),i.Lb(),i.Mb(18,"th"),i.jc(19,"Country"),i.Lb(),i.Mb(20,"th"),i.jc(21,"City"),i.Lb(),i.Mb(22,"th"),i.jc(23,"Date"),i.Lb(),i.Mb(24,"th"),i.jc(25,"price"),i.Lb(),i.ic(26,_,2,0,"th",1),i.ic(27,L,2,0,"th",1),i.Lb(),i.Lb(),i.Mb(28,"tbody"),i.ic(29,y,2,1,"tr",2),i.Lb(),i.Lb()),2&t&&(i.wb(26),i.ac("ngIf",null!=n.customer$&&"CUSTOMER"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"ADMIN"==n.customer$.roles),i.wb(2),i.ac("ngForOf",n.offers))},directives:[r.k,r.j],styles:["table[_ngcontent-%COMP%]{background:#fff;border-radius:6px;width:100%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem 1rem 1rem}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:3rem;background:#00e;color:#fff;font-size:1.2rem;font-weight:lighter;text-align:center}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-left:1px solid #000}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   th[_ngcontent-%COMP%]:nth-child(3), table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2)   th[_ngcontent-%COMP%]:nth-child(6){border-right:1px solid #000}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;border-bottom:1px solid #e3f1d5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#bbb}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border:0}.remove[_ngcontent-%COMP%]{background-image:url(trash.7be8565e0d482c6f2807.svg);background-repeat:no-repeat;background-position:50%;background-size:1.5rem;background-color:#f23}"]}),t})();function A(t,n){1&t&&(i.Mb(0,"h2",5),i.jc(1,"Admin board"),i.Lb())}function k(t,n){if(1&t&&(i.Mb(0,"h2",5),i.jc(1),i.Lb()),2&t){const t=i.Xb();i.wb(1),i.lc(" Welcome ",t.customer$.firstName,"")}}const x=function(){return["/mypages/newoffer"]};function I(t,n){1&t&&(i.Mb(0,"li",6),i.Mb(1,"a",7),i.jc(2," Create an offer "),i.Lb(),i.Lb()),2&t&&(i.wb(1),i.ac("routerLink",i.bc(1,x)))}const D=function(){return["/mypages/customer"]};function F(t,n){1&t&&(i.Mb(0,"li",6),i.Mb(1,"a",7),i.jc(2," Customers "),i.Lb(),i.Lb()),2&t&&(i.wb(1),i.ac("routerLink",i.bc(1,D)))}const N=function(){return["/mypages/orders"]};function T(t,n){1&t&&(i.Mb(0,"li",6),i.Mb(1,"a",7),i.jc(2," View travelorders "),i.Lb(),i.Lb()),2&t&&(i.wb(1),i.ac("routerLink",i.bc(1,N)))}function S(t,n){1&t&&(i.Mb(0,"li",6),i.Mb(1,"a",7),i.jc(2," Buy a flight "),i.Lb(),i.Lb()),2&t&&(i.wb(1),i.ac("routerLink",i.bc(1,N)))}const H=function(){return["/mypages/myorders"]};function X(t,n){1&t&&(i.Mb(0,"li",6),i.Mb(1,"a",7),i.jc(2," My orders "),i.Lb(),i.Lb()),2&t&&(i.wb(1),i.ac("routerLink",i.bc(1,H)))}function R(t,n){if(1&t){const t=i.Nb();i.Mb(0,"tr"),i.Mb(1,"td"),i.jc(2),i.Lb(),i.Mb(3,"td"),i.jc(4),i.Lb(),i.Mb(5,"td"),i.jc(6),i.Lb(),i.Mb(7,"td",25),i.Tb("click",function(){i.fc(t);const e=n.$implicit;return i.Xb().setDepartureAirport(e)}),i.jc(8,"Add"),i.Lb(),i.Mb(9,"td",25),i.Tb("click",function(){i.fc(t);const e=n.$implicit;return i.Xb().setArrivalAirport(e)}),i.jc(10,"Add"),i.Lb(),i.Lb()}if(2&t){const t=n.$implicit;i.wb(2),i.kc(t.name),i.wb(2),i.kc(t.country),i.wb(2),i.lc(" ",t.city,"")}}const E=[{path:"",component:(()=>{class t{constructor(t,n){this.ts=t,this.state=n,this.headingsAdmin="New travel destination",this.customer$=null}ngOnInit(){this.state.customer$.subscribe(t=>this.customer$=t)}}return t.\u0275fac=function(n){return new(n||t)(i.Hb(P.a),i.Hb(a.a))},t.\u0275cmp=i.Bb({type:t,selectors:[["app-mypages"]],decls:16,vars:8,consts:[[1,"admin-pages"],[1,"sidebar"],["class","adminboard",4,"ngIf"],["class","nav-view",4,"ngIf"],[1,"heading"],[1,"adminboard"],[1,"nav-view"],[3,"routerLink"]],template:function(t,n){1&t&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.ic(2,A,2,0,"h2",2),i.ic(3,k,2,1,"h2",2),i.Mb(4,"ul"),i.ic(5,I,3,2,"li",3),i.ic(6,F,3,2,"li",3),i.ic(7,T,3,2,"li",3),i.ic(8,S,3,2,"li",3),i.ic(9,X,3,2,"li",3),i.Lb(),i.Lb(),i.Mb(10,"section",4),i.Mb(11,"h2"),i.jc(12),i.Lb(),i.Mb(13,"h3"),i.jc(14,"Setup destinations"),i.Lb(),i.Ib(15,"router-outlet"),i.Lb(),i.Lb()),2&t&&(i.wb(2),i.ac("ngIf",null!=n.customer$&&"ADMIN"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"CUSTOMER"==n.customer$.roles),i.wb(2),i.ac("ngIf",null!=n.customer$&&"ADMIN"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"ADMIN"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"ADMIN"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"CUSTOMER"==n.customer$.roles),i.wb(1),i.ac("ngIf",null!=n.customer$&&"CUSTOMER"==n.customer$.roles),i.wb(3),i.kc(n.headingsAdmin))},directives:[r.k,c.e,c.c],styles:[".admin-pages[_ngcontent-%COMP%]{display:flex;background-color:#eee}.admin-pages[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]{min-height:calc(100vh - 4rem)}.sidebar[_ngcontent-%COMP%]{width:20rem;background-color:#4e73df}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-top:4rem;margin-bottom:2rem;text-align:center;font-size:1.5rem;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:4rem;display:flex;justify-content:center;align-items:center;color:#fff;border-bottom:1px solid #fff}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#4e73ff}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:2rem;letter-spacing:3px;font-size:large;height:100%}.heading[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.heading[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start}.heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:2rem;font-size:2rem;letter-spacing:2px}"]}),t})(),children:[{path:"newoffer",component:(()=>{class t{constructor(t,n,e,r){this.fb=t,this.travelService=n,this.state=e,this.router=r,this.customer$=null,this.airports$=[],this.departureAirport={name:"",country:"",city:""},this.arrivalAirport={name:"",country:"",city:""},this.departureDate=Date.now(),this.arrivalDate=Date.now(),this.price=0,this.airportForm=this.fb.group({airportName:[""],country:[""],city:[""],price:[0],departureDate:["2021-01-17T20:00"]})}ngOnInit(){this.state.customer$.subscribe(t=>this.customer$=t),this.state.airports$.subscribe(t=>this.airports$=t)}createAirport(){var t;if(null!=this.customer$){const n={name:this.airportForm.value.airportName,country:this.airportForm.value.country,city:this.airportForm.value.city};(null===(t=this.customer$)||void 0===t?void 0:t.jwt.length)>5&&this.travelService.newAirport(n,this.customer$.jwt).subscribe(t=>{this.state.addAirport(t),this.airportForm.reset()})}}setDepartureAirport(t){this.departureAirport=t}setArrivalAirport(t){this.arrivalAirport=t}resetTravelAirports(){this.departureAirport={name:"",country:"",city:""},this.arrivalAirport={name:"",country:"",city:""}}registerTravel(){let t={fromAirport:this.departureAirport,toAirport:this.arrivalAirport,depatureDate:this.airportForm.value.departureDate,price:this.airportForm.value.price};console.log(t),null!=this.customer$?this.travelService.createTravelOffer(t,this.customer$.jwt).subscribe(t=>console.log(t)):this.logout()}logout(){const t=new O.a("");this.state.setCustomer(t),sessionStorage.removeItem("travelux"),this.router.navigate(["/login"])}}return t.\u0275fac=function(n){return new(n||t)(i.Hb(o.b),i.Hb(P.a),i.Hb(a.a),i.Hb(c.b))},t.\u0275cmp=i.Bb({type:t,selectors:[["app-setup-destination"]],decls:95,vars:14,consts:[[1,"container-destinations"],[1,"box-destinations"],[1,"travel-h3"],[3,"formGroup"],[1,"input-box"],["for","name"],["id","name","name","name","type","text","formControlName","airportName","placeholder","Airport"],["for","country"],["id","country","name","country","type","text","formControlName","country","placeholder","country"],["for","city"],["id","city","name","city","type","text","formControlName","city","placeholder","city"],[1,"btn-new",3,"click"],[4,"ngFor","ngForOf"],[1,"radio-row"],[1,"input-box","radio"],["type","radio","id","oneway","name","oneway","value","oneway"],["for","oneway"],["type","radio","id","return","name","oneway","value","return"],["for","return"],[1,"airport-travel"],[1,"from"],[1,"airportname"],["type","datetime-local","formControlName","departureDate"],[1,"to"],["type","number","formControlName","price"],[3,"click"]],template:function(t,n){1&t&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Mb(2,"h3",2),i.jc(3,"Register an airport"),i.Lb(),i.Mb(4,"form",3),i.Mb(5,"div",4),i.Mb(6,"label",5),i.jc(7,"Airport Name"),i.Lb(),i.Ib(8,"input",6),i.Lb(),i.Mb(9,"div",4),i.Mb(10,"label",7),i.jc(11,"Country"),i.Lb(),i.Ib(12,"input",8),i.Lb(),i.Mb(13,"div",4),i.Mb(14,"label",9),i.jc(15,"City"),i.Lb(),i.Ib(16,"input",10),i.Lb(),i.Lb(),i.Mb(17,"button",11),i.Tb("click",function(){return n.createAirport()}),i.jc(18,"SEND"),i.Lb(),i.Lb(),i.Mb(19,"div",1),i.Mb(20,"table"),i.Mb(21,"thead"),i.Mb(22,"tr"),i.Mb(23,"th"),i.jc(24,"Airport"),i.Lb(),i.Mb(25,"th"),i.jc(26,"Country"),i.Lb(),i.Mb(27,"th"),i.jc(28,"City"),i.Lb(),i.Mb(29,"th"),i.jc(30,"From"),i.Lb(),i.Mb(31,"th"),i.jc(32,"To"),i.Lb(),i.Lb(),i.Lb(),i.Mb(33,"tbody"),i.ic(34,R,11,3,"tr",12),i.Lb(),i.Lb(),i.Lb(),i.Mb(35,"div",1),i.Mb(36,"h3",2),i.jc(37,"Create an offer"),i.Lb(),i.Mb(38,"div",13),i.Mb(39,"div",14),i.Ib(40,"input",15),i.Mb(41,"label",16),i.jc(42,"One way"),i.Lb(),i.Lb(),i.Mb(43,"div",14),i.Ib(44,"input",17),i.Mb(45,"label",18),i.jc(46,"Return"),i.Lb(),i.Ib(47,"br"),i.Lb(),i.Lb(),i.Mb(48,"div",19),i.Mb(49,"div",20),i.Mb(50,"div",4),i.Mb(51,"h3"),i.jc(52," Departure Airport "),i.Lb(),i.Mb(53,"div",21),i.jc(54),i.Lb(),i.Lb(),i.Mb(55,"div",4),i.Mb(56,"h3"),i.jc(57," From City "),i.Lb(),i.Mb(58,"div",21),i.jc(59),i.Lb(),i.Lb(),i.Mb(60,"div",4),i.Mb(61,"h3"),i.jc(62," In Country "),i.Lb(),i.Mb(63,"div",21),i.jc(64),i.Lb(),i.Lb(),i.Mb(65,"form",3),i.Mb(66,"div",4),i.Mb(67,"h3"),i.jc(68," Departure date "),i.Lb(),i.Ib(69,"input",22),i.Lb(),i.Lb(),i.jc(70),i.Yb(71,"json"),i.Lb(),i.Mb(72,"div",23),i.Mb(73,"div",4),i.Mb(74,"h3"),i.jc(75," Arrival Airport "),i.Lb(),i.Mb(76,"div",21),i.jc(77),i.Lb(),i.Lb(),i.Mb(78,"div",4),i.Mb(79,"h3"),i.jc(80," From City "),i.Lb(),i.Mb(81,"div",21),i.jc(82),i.Lb(),i.Lb(),i.Mb(83,"div",4),i.Mb(84,"h3"),i.jc(85," In Country "),i.Lb(),i.Mb(86,"div",21),i.jc(87),i.Lb(),i.Lb(),i.Mb(88,"form",3),i.Mb(89,"div",4),i.Mb(90,"h3"),i.jc(91),i.Lb(),i.Ib(92,"input",24),i.Lb(),i.Lb(),i.Mb(93,"button",11),i.Tb("click",function(){return n.registerTravel()}),i.jc(94,"Register"),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&t&&(i.wb(4),i.ac("formGroup",n.airportForm),i.wb(30),i.ac("ngForOf",n.airports$),i.wb(20),i.lc(" ",n.departureAirport.name," "),i.wb(5),i.lc(" ",n.departureAirport.city," "),i.wb(5),i.lc(" ",n.departureAirport.country," "),i.wb(1),i.ac("formGroup",n.airportForm),i.wb(5),i.lc(" ",i.Zb(71,12,n.airportForm.value.departureDate)," "),i.wb(7),i.lc(" ",n.arrivalAirport.name," "),i.wb(5),i.lc(" ",n.arrivalAirport.city," "),i.wb(5),i.lc(" ",n.arrivalAirport.country," "),i.wb(1),i.ac("formGroup",n.airportForm),i.wb(3),i.lc(" Price ",n.airportForm.value.price," "))},directives:[o.j,o.g,o.d,o.a,o.f,o.c,r.j,o.h],pipes:[r.e],styles:[".container-destinations[_ngcontent-%COMP%]{margin:2rem 0 0;display:flex}.container-destinations[_ngcontent-%COMP%]   .box-destinations[_ngcontent-%COMP%]{padding:0 2rem}.container-destinations[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column}.container-destinations[_ngcontent-%COMP%]   .input-box.radio[_ngcontent-%COMP%]{flex-direction:row;justify-content:start;padding-right:3rem}.container-destinations[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.3rem}.radio-row[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.btn-new[_ngcontent-%COMP%]{width:100%;margin:2rem 0 1rem;padding:.5rem;border:none;border-radius:5px;background-color:#00e;font-weight:700;font-size:1.2rem;color:#fff}table[_ngcontent-%COMP%]{background:#fff;border-radius:6px;width:100%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem 1rem 1rem}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:3rem;background:#00e;color:#fff;font-size:1.2rem;font-weight:lighter;text-align:center}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;border-bottom:1px solid #e3f1d5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#bbb}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border:0}.box-destinations[_ngcontent-%COMP%]   .travel-h3[_ngcontent-%COMP%]{text-align:center;font-weight:bolder;font-size:1.2rem}.airport-travel[_ngcontent-%COMP%]{display:flex}.airport-travel[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%], .airport-travel[_ngcontent-%COMP%]   .to[_ngcontent-%COMP%]{margin:1rem}.airport-travel[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%], .airport-travel[_ngcontent-%COMP%]   .to[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{height:3rem;justify-content:space-between}.airport-travel[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .airport-travel[_ngcontent-%COMP%]   .to[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700}.airport-travel[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   .airportname[_ngcontent-%COMP%], .airport-travel[_ngcontent-%COMP%]   .to[_ngcontent-%COMP%]   .airportname[_ngcontent-%COMP%]{border-bottom:1px solid #000}"]}),t})()},{path:"customer",component:l},{path:"orders",component:$},{path:"myorders",component:C}]}];let z=(()=>{class t{}return t.\u0275mod=i.Fb({type:t}),t.\u0275inj=i.Eb({factory:function(n){return new(n||t)},imports:[[c.d.forChild(E)],c.d]}),t})(),B=(()=>{class t{}return t.\u0275mod=i.Fb({type:t}),t.\u0275inj=i.Eb({factory:function(n){return new(n||t)},imports:[[r.b,z,o.e,o.i]]}),t})()}}]);